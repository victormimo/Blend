{"ast":null,"code":"import { __read } from 'tslib';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { useContext, useEffect } from 'react';\nimport { PresenceContext } from '../../components/AnimatePresence/PresenceContext.js';\nimport { usePresence } from '../../components/AnimatePresence/use-presence.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\nimport { checkShouldInheritVariant } from '../utils/should-inherit-variant.js';\n/**\n * TODO: This component is quite small and no longer directly imports animation code.\n * It could be a candidate for folding back into the main `motion` component.\n */\n\nvar ExitComponent = makeRenderlessComponent(function (props) {\n  var custom = props.custom,\n      visualElement = props.visualElement;\n\n  var _a = __read(usePresence(), 2),\n      isPresent = _a[0],\n      onExitComplete = _a[1];\n\n  var presenceContext = useContext(PresenceContext);\n  useEffect(function () {\n    var _a, _b;\n\n    var animation = (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Exit, !isPresent, {\n      custom: (_b = presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.custom) !== null && _b !== void 0 ? _b : custom\n    });\n    !isPresent && (animation === null || animation === void 0 ? void 0 : animation.then(onExitComplete));\n  }, [isPresent]);\n});\n/**\n * @public\n */\n\nvar Exit = {\n  key: \"exit\",\n  shouldRender: function (props) {\n    return !!props.exit && !checkShouldInheritVariant(props);\n  },\n  getComponent: function () {\n    return ExitComponent;\n  }\n};\nexport { Exit };","map":{"version":3,"sources":["/Users/victor/Development/blend/client/node_modules/framer-motion/dist/es/motion/features/exit.js"],"names":["__read","AnimationType","useContext","useEffect","PresenceContext","usePresence","makeRenderlessComponent","checkShouldInheritVariant","ExitComponent","props","custom","visualElement","_a","isPresent","onExitComplete","presenceContext","_b","animation","animationState","setActive","Exit","then","key","shouldRender","exit","getComponent"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;AACA,SAASC,eAAT,QAAgC,qDAAhC;AACA,SAASC,WAAT,QAA4B,kDAA5B;AACA,SAASC,uBAAT,QAAwC,uCAAxC;AACA,SAASC,yBAAT,QAA0C,oCAA1C;AAEA;AACA;AACA;AACA;;AACA,IAAIC,aAAa,GAAGF,uBAAuB,CAAC,UAAUG,KAAV,EAAiB;AACzD,MAAIC,MAAM,GAAGD,KAAK,CAACC,MAAnB;AAAA,MAA2BC,aAAa,GAAGF,KAAK,CAACE,aAAjD;;AACA,MAAIC,EAAE,GAAGZ,MAAM,CAACK,WAAW,EAAZ,EAAgB,CAAhB,CAAf;AAAA,MAAmCQ,SAAS,GAAGD,EAAE,CAAC,CAAD,CAAjD;AAAA,MAAsDE,cAAc,GAAGF,EAAE,CAAC,CAAD,CAAzE;;AACA,MAAIG,eAAe,GAAGb,UAAU,CAACE,eAAD,CAAhC;AACAD,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAIS,EAAJ,EAAQI,EAAR;;AACA,QAAIC,SAAS,GAAG,CAACL,EAAE,GAAGD,aAAa,CAACO,cAApB,MAAwC,IAAxC,IAAgDN,EAAE,KAAK,KAAK,CAA5D,GAAgE,KAAK,CAArE,GAAyEA,EAAE,CAACO,SAAH,CAAalB,aAAa,CAACmB,IAA3B,EAAiC,CAACP,SAAlC,EAA6C;AAAEH,MAAAA,MAAM,EAAE,CAACM,EAAE,GAAGD,eAAe,KAAK,IAApB,IAA4BA,eAAe,KAAK,KAAK,CAArD,GAAyD,KAAK,CAA9D,GAAkEA,eAAe,CAACL,MAAxF,MAAoG,IAApG,IAA4GM,EAAE,KAAK,KAAK,CAAxH,GAA4HA,EAA5H,GAAiIN;AAA3I,KAA7C,CAAzF;AACA,KAACG,SAAD,KAAeI,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6C,KAAK,CAAlD,GAAsDA,SAAS,CAACI,IAAV,CAAeP,cAAf,CAArE;AACH,GAJQ,EAIN,CAACD,SAAD,CAJM,CAAT;AAKH,CAT0C,CAA3C;AAUA;AACA;AACA;;AACA,IAAIO,IAAI,GAAG;AACPE,EAAAA,GAAG,EAAE,MADE;AAEPC,EAAAA,YAAY,EAAE,UAAUd,KAAV,EAAiB;AAAE,WAAO,CAAC,CAACA,KAAK,CAACe,IAAR,IAAgB,CAACjB,yBAAyB,CAACE,KAAD,CAAjD;AAA2D,GAFrF;AAGPgB,EAAAA,YAAY,EAAE,YAAY;AAAE,WAAOjB,aAAP;AAAuB;AAH5C,CAAX;AAMA,SAASY,IAAT","sourcesContent":["import { __read } from 'tslib';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { useContext, useEffect } from 'react';\nimport { PresenceContext } from '../../components/AnimatePresence/PresenceContext.js';\nimport { usePresence } from '../../components/AnimatePresence/use-presence.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\nimport { checkShouldInheritVariant } from '../utils/should-inherit-variant.js';\n\n/**\n * TODO: This component is quite small and no longer directly imports animation code.\n * It could be a candidate for folding back into the main `motion` component.\n */\nvar ExitComponent = makeRenderlessComponent(function (props) {\n    var custom = props.custom, visualElement = props.visualElement;\n    var _a = __read(usePresence(), 2), isPresent = _a[0], onExitComplete = _a[1];\n    var presenceContext = useContext(PresenceContext);\n    useEffect(function () {\n        var _a, _b;\n        var animation = (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Exit, !isPresent, { custom: (_b = presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.custom) !== null && _b !== void 0 ? _b : custom });\n        !isPresent && (animation === null || animation === void 0 ? void 0 : animation.then(onExitComplete));\n    }, [isPresent]);\n});\n/**\n * @public\n */\nvar Exit = {\n    key: \"exit\",\n    shouldRender: function (props) { return !!props.exit && !checkShouldInheritVariant(props); },\n    getComponent: function () { return ExitComponent; },\n};\n\nexport { Exit };\n"]},"metadata":{},"sourceType":"module"}